# 推荐系统

# Easy

Q1：**描述一个推荐系统？**

- 推荐系统是信息过滤系统的一个子类，它试图预测用户对项目的评级或偏好。
- 推荐系统通常使用协同过滤和基于内容的过滤中的一种或两种，以及其他系统，例如基于知识的系统。

![Untitled](%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%209d7b73fad7a6487ebbd3f9e242d79ac4/Untitled.png)

Q2：****基于知识的推荐系统与基于协作和基于内容的推荐系统有何不同？****

- 基于内容和协作系统的推荐主要基于历史数据。
- 基于知识的系统的推荐是基于用户对他们想要什么的直接说明。基于知识的系统的一个重要区别特征是对特定领域的高度定制。这种定制是通过使用以约束或相似性度量的形式对相关领域知识进行编码的知识库来实现的。

Q3：**协作推荐系统和基于内容的推荐系统有什么区别？**

- 【协同过滤】使用的是系统记录的用户行为，它用消费过物品的用户来表征物品，计算相似。相比基于内容的一般效果较好，因为本质是基于共现，能发掘物品某种层次上的相似关系，这种关系很难从内容维度刻画；而【基于内容推荐】则侧重于通过对象的内容信息，建模属性，来进行匹配建模进而寻找相似的用户或者商品。

Q4：****推荐系统中有哪些特定场景的挑战？****

- 在时间数据、基于位置的数据和社交数据等不同领域中，推荐的上下文起着至关重要的作用。开发上下文推荐系统的概念是为了解决这些领域中出现的附加信息。
- 一些特定领域的应用程序是基于上下文的推荐系统、时间敏感的推荐系统、基于位置的推荐系统和社交推荐系统。

Q5：**什么是基于模型的协作方法？**

- 基于模型的协作方法仅依赖于用户-项目交互信息，并假设一个潜在模型来解释这些交互。
- 例如，矩阵分解算法包括将巨大而稀疏的用户-项目交互矩阵分解为两个较小且密集的矩阵的乘积：用户-因子矩阵（包含用户表示）乘以因子-项目矩阵

![Untitled](%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%209d7b73fad7a6487ebbd3f9e242d79ac4/Untitled%201.png)

Q6：**讲述基于内容的推荐系统的基本组成部分**

- 预处理和特征提取：基于内容的系统被广泛用于各种领域，例如网页、产品描述、新闻、音乐特征等。在大多数情况下，从这些不同的源中提取特征，将它们转换为基于关键字的向量空间表示。这是任何基于内容的推荐系统的第一步，它是高度特定于领域的。
- 基于内容的用户配置文件学习：基于内容的模型特定于给定用户。因此，构建了一个特定于用户的模型，以根据用户购买或评价项目的历史来预测用户对项目的兴趣。为实现此目标，需要利用用户反馈，这可能以先前指定的评级（显式反馈）或用户活动（隐式反馈）的形式表现出来。此类反馈与项目的属性结合使用以构建训练数据。在此训练数据上构建学习模型。生成的模型称为用户配置文件，因为它在概念上将用户兴趣与项目属性相关联。
- 过滤和推荐：在这一步中，从前面的步骤中学习到的模型用于为特定用户推荐项目。这一步需要非常高效，因为预测需要实时执行。

# medium

Q7：**如何理解图卷积算法？**

1.GCN 是对卷积神经网络在 graph domain 上的自然推广

2.它能同时对节点特征信息与结构信息进行端对端学习，是目前对图数据学习任务的最佳选择

3.图卷积适用性极广，适用于任意拓扑结构的节点与图

4.在节点分类与边预测等任务上，在公开数据集上效果要远远优于其他方法

Q8：**简述DeepFM模型？**

- DeepFM算法有效地结合了因子分解机与神经网络在特征学习中的优点：同时提取到低阶组合特征与高阶组合特征，所以越来越被广泛使用。在DeepFM中，FM算法负责对一阶特征以及由一阶特征两两组合而成的二阶特征进行特征的提取；DNN算法负责对由输入的一阶特征进行全连接等操作形成的高阶特征进行特征的提取。DeepFM具有以下特点：
1. 结合了广度和深度模型的优点，联合训练FM模型和DNN模型，同时学习低阶特征组合和高阶特征组合。
2. 端到端模型，无需特征工程。
3. DeepFM 共享相同的输入和 embedding vector，训练更高效。

Q9：**怎么将知识图谱引入推荐系统？**

- 基于特征的知识图谱辅助推荐，核心是知识图谱特征学习的引入。一般而言，知识图谱是一个由三元组<头节点，关系，尾节点> 组成的异构网络。由于知识图谱天然的高维性和异构性，首先使用知识图谱特征学习对其进行处理，从而得到实体和关系的低维稠密向量表示。这些低维的向量表示可以较为自然地与推荐系统进行结合和交互。
- 基于结构的推荐模型，更加直接地使用知识图谱的结构特征。具体来说，对于知识图谱中的每一个实体，我们都进行宽度优先搜索来获取其在知识图谱中的多条关联实体从中得到推荐结果。

Q10：**普通的逻辑回归能否直接用于大规模的广告点击率预估？**

- 不能。第一，数据量太大。传统的逻辑回归参数训练过程都依靠牛顿法（Newton's Method）或者 L-BFGS 等算法。这些算法并不太容易在大规模数据上得以处理。第二，不太容易得到比较稀疏（Sparse）的答案。也就是说，虽然数据中特征的总数很多，但是对于单个数据点来说，有效特征是有限而且稀疏的。

Q11：**FTRL在准备训练数据（特征工程）和训练模型时有哪些trick？**

- 特征工程
    - 特征预处理：ID化、离散化、归一化等；
    - 特征选择：方差、变异系数、相关系数、Information Gain、Information Gain-Ratio、IV值等；
    - 特征交叉和组合特征：根据特征具有的业务属性特征交叉，利用FM算法、GBDT算法做高维组合特征等。
- Subsampling Training Data
    - 正样本全采样，负样本使用一个比例r采样，并在模型训练的时候，对负样本的更新梯度乘以权重1/r;
    - 负采样的方式：随机负采样、Negative sampling、邻近负采样、skip above负采样等。
- 在线丢弃训练数据中很少出现的特征(probabilistic feature inclusion)
    - Poisson Inclusion：对某一维度特征所来的训练样本，以p的概率接受并更新模型；
    - Bloom Filter Inclusion：用bloom filter从概率上做某一特征出现k次才更新。

Q12：**已知基于数据驱动的机器学习和优化技术在单场景内的A/B测试上，点击率、转化率、成交额、单价都取得了不错的效果。 但是，目前各个场景之间是完全独立优化的，这样会带来哪些比较严重的问题 ？**

- 不同场景的商品排序仅考虑自身，会导致用户的购物体验是不连贯或者雷同的 。例如：从冰箱的详情页进入店铺，却展示手机；各个场景都展现趋同，都包含太多的U2I（点击或成交过的商品）；
- 多场景之间是博弈（竞争）关系， 期望每个场景的提升带来整体提升这一点是无法保证的 。很有可能一个场景的提升会导致其他场景的下降，更可怕的是某个场景带来的提升甚至小于其他场景更大的下降。这并非是不可能的，这种情况下，单场景的A/B测试就显得没那么有意义，单场景的优化也会存在明显的问题。

引用：[https://www.sohu.com/](https://www.sohu.com/a/445953351_100205241)

Q13：**描述推荐系统中的基于邻域的算法**

- **基于邻域的算法分为两大类，一类是基于用户的协同过滤算法，另一类是基于物品的协同过滤算法；**基本思想是使用用户-用户相似度或物品-物品相似度从评分矩阵中进行推荐。邻域的概念意味着我们需要确定相似的用户或相似的物品才能进行预测

引用：[https://link.springer.com](https://link.springer.com/chapter/10.1007/978-3-319-29659-3_2)

Q14：**推荐系统使用基于邻域的方法有哪些优势？**

- 简单、高效以及能够产生准确和个性化的推荐

Q15：**如何在基于用户和基于物品的邻域推荐系统之间进行选择？**

- UserCF给用户推荐那些和他有共同兴趣爱好的用户喜欢的物品。ItemCF给用户推荐那些和他之前喜欢的物品类似的物品。.所以，UserCF的推荐结果着重于反映和用户兴趣相似的小群体的热点，既社会化。而ItemCF的推荐结果着重于维系用户的历史兴趣，即个性化。
- **在新闻推荐中使用UserCF，因为用户的兴趣不是特别细化，绝大多数用户都喜欢看热门的新闻，并且物品更新快于用户更新；在图书、电子商务和电影网站中使用ItemCF，因为用户的兴趣是比较固定和持久的，即对物品热门程度并不是那么敏感**

Q16：*****基于内容的推荐系统*的基本结构是什么？**

- 三个主要组成部分是：
    - 一个内容分析器，提供物品分类。
    - Profile Learner，创建代表每个用户偏好的配置文件。
    - 一个过滤组件，它接受所有输入并为每个用户生成推荐列表。

![Untitled](%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%209d7b73fad7a6487ebbd3f9e242d79ac4/Untitled%202.png)

引用：[https://www.geeksforgeeks.org/ml-content-based-recommender-system/](https://www.geeksforgeeks.org/ml-content-based-recommender-system/)

Q17：**如何为文本输入创建推荐系统？**

- 一个基于文本的推荐系统通常按以下步骤设计：
    - 首先，****数据预处理，删除停用词、标点符号、空白，并将所有单词转换为小写****
    - 其次，****合并列属性到新列Bag_of_words中来创建词汇表征****
    - ****为Bag_of_words创建向量表示，并创建相似性矩阵****
    - 最后一步是创建一个函数，该函数将电影标题作为输入，并返回10部最相似的电影。该函数将输入的电影标题与相似矩阵的对应索引进行匹配，并按降序提取相似值行。提取前11个值并删除第一个索引(即输入影片本身)，可以找到前10部最相似的影片。

Q18：**在为推荐系统收集数据时，您如何维护用户隐私？**

- 推荐系统的隐私保护问题被研究已久。早期研究主要通过密码学方法或模糊化方法实现对隐私信息的保护，近年随着联邦学习的提出，通过数据分布式存储和分布式计算实现信息保护的联邦学习成为隐私保护推荐系统的主流方法
    - 密码学方法：密码学方法基于数学理论研究数据加密算法，其中最经典、使用最广泛的即为**同态加密；即通过满足密文同态运算性质的加密算法实现数据的“可算不可见”**
    - 模糊化处理：对用户的信息（如配置文件和浏览记录）施加扰动，以防止识别单个用户，同时尽可能保持推荐的准确性
    - 联邦学习：基于分布在多个设备上的数据集，建立分布式的机器学习模型，同时防止数据泄漏。由于联邦学习不要求对训练数据的集中存储，所以它在隐私保护方面优势显著

Q19：**如何使用朴素贝叶斯模型设计协同过滤的推荐系统？**

- 基于朴素贝叶斯的协同过滤推荐系统（Naive Bayes Collaborative Filtering），是将推荐系统中的评分**预测问题转化成一个分类问题。需要做以下两点考虑：**
    - 用户对项（例如商品、电影）的评分必须是一些具有代表性的数字（即定序数据如1~5分）或者评论（如喜欢、不喜欢、一般）
    - 用户（或项）之间是近似条件独立的

Q20：****推荐系统应该如何在不断变化的环境中工作？****

- 使用经典推荐系统算法的增量、在线或动态版本，如time-SVD++时间感知模型
- 另一种选择是强化学习。强化学习框架还可以对随时间变化进行建模

引用：[https://datascience.stackexchange.com/](https://datascience.stackexchange.com/)

Q21：****计算广告和推荐系统之间有什么区别？****

- 推荐旨在通过根据您的个人品味提供最佳项目来优化您的体验；而计算广告涉及第三方，旨在根据您的浏览历史优化广告商、发布商和第三方的利润

引用：[https://medium.com/crossing-minds/advertising-vs-recommendation-db608f2fb5eb](https://medium.com/crossing-minds/advertising-vs-recommendation-db608f2fb5eb)

Q22：**多臂老虎机（Bandit）方法对计算广告的重要性是什么？**

- 推荐系统有两个顽疾，一个是冷启动，一个探索利用问题，Exploit-Explore问题。针对这两个问题，Bandit算法可以有效解决。

引用：[https://www.kukuxiaai.com/blog/2019-07/推荐系统-多臂赌博机/](https://www.kukuxiaai.com/blog/2019-07/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F-%E5%A4%9A%E8%87%82%E8%B5%8C%E5%8D%9A%E6%9C%BA/)

Q23：**基于内容的推荐算法与基于协同过滤的推荐算法有什么区别？**

- 在基于内容的推荐方法中，没有假定潜在模型。这些算法直接处理用户-物品交互：例如，用户由他们与物品的交互来表示，并且使用对这些表示的最近邻搜索来产生建议。由于没有假设潜在模型，这些方法在理论上具有低偏差但具有高方差。
- 在基于模型的推荐方法中，假设了一些潜在的交互模型。该模型经过训练，可以从其自身的用户和物品表示中重建用户-物品交互值。然后可以基于这个模型来做新的建议。模型提取的目潜在表示具有人类难以解释的数学意义。由于假设了一个交互模型，因此与假设没有潜在模型的方法相比，该方法在理论上具有更高的偏差但具有更低的方差。

Q24：**SVD可以用于推荐系统吗？**

- 可以；在协同过滤的推荐系统中，用户的评分数据是稀疏矩阵，可以用SVD将数据映射到低维空间，然后计算低维空间中的item之间的相似度，对用户未评分的item进行评分预测，最后将预测评分高的item推荐给用户。

Q25：**SVD如何用于协同过滤的推荐系统？**

- 在推荐系统的上下文中，SVD 被用作协同过滤技术。它使用矩阵结构，其中每一行代表一个用户，每一列代表一个项目。该矩阵的元素是用户对项目的评分

$$
A=USV^{T}
$$

- 它从高级（用户项目评分）矩阵的因式分解中找到矩阵的因子；SVD通过提取其潜在因子来降低效用矩阵A的维数。其中*A*是*mx n*效用矩阵，*U*是*mx r*正交左奇异矩阵，表示用户与潜在因素之间的关系，*S*是一个*rx r*对角矩阵，它描述了每个潜在因子的强度，*V*是一个*rx n*对角右奇异矩阵，表示项目和潜在因素之间的相似性。它将每个用户和每个项目映射到一个r维潜在空间。此映射有助于清楚地表示用户和项目之间的关系。

引用：[https://analyticsindiamag.com/](https://analyticsindiamag.com/)